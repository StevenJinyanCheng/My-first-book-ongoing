# C++基础

## 第1章 代码结构和输入输出语句

### 1.1 Hello World

C++第一节课，老师常常会说`Hello World!`程序。程序如下：

```cpp
#include <cstdio>
using namespace std;
int main(){
    printf("Hello World!\n");
    return 0;
}
```

在 C++ 中，我们常常用一个简单的 "Hello World" 程序来开始学习。这个程序不仅展示了程序的结构，还介绍了 C++ 基本的语法和功能。以下是一些重要的补充内容，帮助进一步理解。

#### 1.1.1 预处理指令 `#include`

预处理指令 `#include` 是 C++ 编译前的一步，它告诉编译器在编译源代码之前先加载指定的文件。对于本例中的 `#include <cstdio>`：

- `cstdio` 是 C 标准库中的一个头文件，包含了与输入输出相关的功能。`printf` 就是在该头文件中定义的一个函数。
  
其他常见的库包括：

- `iostream`：包含了 C++ 风格的输入输出流，比如 `std::cout` 和 `std::cin`。
- `string`：包含 C++ 中的 `std::string` 类，支持字符串操作。
- `algorithm`：包含了 C++ 中的一些算法，效率较高。

#### 1.1.2 命名空间 `std`

在 C++ 中，`std` 是标准库使用的命名空间（namespace），它包含了 C++ 标准库中的所有函数、类和对象。例如，`std::cout` 是 C++ 中的标准输出流，`std::cin` 是标准输入流。

`using namespace std;` 这行代码的作用是让我们在后面的代码中直接使用 `std` 中的函数和类，而不需要每次都写 `std::` 前缀。虽然这种做法让代码简洁，但在大型程序中为了避免命名冲突，通常不建议这样做，而是直接使用 `std::`。

#### 1.1.3 `main` 函数

`main` 是 C++ 程序的入口点。当程序开始执行时，`main` 函数被调用。`int main()` 表示 `main` 函数返回一个整数值，通常是 0，表示程序正常结束。返回非零值通常表示程序发生错误。

```cpp
int main() {
    // 程序代码
    return 0;
}
```

在 `main` 函数内部，我们编写程序的实际逻辑，比如输入、处理和输出。

#### 1.1.4 输入和输出

C++ 提供了多种方法来进行输入和输出。在本例中，使用的是 `printf` 函数，来自于 C 标准库中的 `cstdio`。不过，C++ 更推荐使用 `iostream` 进行输入输出，因为它更符合 C++ 的面向对象思想，但是它速度慢。

```cpp
printf("Hello World!\n");
```

在这个例子中：

- `printf` 是标准输出，用来输出信息。
- `"Hello World!\n"`是一个C字符串。`\n` 是换行符的意思。 

#### 1.1.5 程序的编译与执行

为了编译和运行 C++ 程序，你需要使用 C++ 编译器，如 `g++`（GNU 编译器）或 `clang++`。在命令行中，你可以通过以下命令编译并执行程序：

1. 下载`clang`：（如果用过可以跳过）Windows: `winget install LLVM.LLVM`，Linux: `sudo apt install clang`

2. 编译：
```bash
   clang++ -o hello hello.cpp
```
如果是Windows的话，需要把`hello`替换成`hello.exe`。

3. 执行：
```bash
   ./hello
```
同理，如果是Windows，需要加`.exe`。

其中，`-o hello` 表示输出文件名为 `hello`，`hello.cpp` 是源代码文件。

#### 1.1.6 小结

`Hello World` 程序是 C++ 学习中的第一个里程碑，它帮助我们理解了以下几个概念：

- 如何引入标准库。
- 如何使用命名空间。
- 如何定义 `main` 函数。
- 如何进行简单的输出。

### 1.2 A+B 问题

A+B 问题是计算机程序设计中经典的入门问题，它要求编写一个程序，能够计算两个整数的和。程序如下：

```cpp
#include <cstdio>
using namespace std;
int main(){
    int a, b;
    scanf("%d%d", &a, &b);
    printf("%d\n", a+b);
    return 0;
}
```

这里，我们也一行一行地看一下这个程序。

#### 1.2.1 变量

在 C++ 中，变量就像一个盒子，里面可以存储数据。在本例中，我们定义了两个整型变量 `a` 和 `b`。
在 C++ 中，我们可以使用 `int`、`double`、`char`、`bool` 等类型来定义变量。在本例中，我们定义了两个整型变量 `a` 和 `b`。
定义变量的语句是 `类型 变量名1=初始值1, 变量名2=初始值2, ...;`。变量可以一次定义很多个，用逗号隔开。变量还可以有一个初始值。
C++ 变量的命名规则是这样的：

- 变量名只能包含字母、数字和下划线。
- 变量名的第一个字符不能是数字。
- 变量名的长度不能超过 255 个字符。（其实完全不用这一条）

C++ 有很多类型，常用的如下：

|类型|大小（字节）|描述|范围|
|:--|:--|:--|:--|
|`int`|4|整数|`-2147483648` 到 `2147483647`|
|`unsigned int`|4|无符号整数|`0` 到 `4294967295`|
|`long long int`|8|长整数|`-9223372036854775808` 到 `9223372036854775807`|
|`unsigned long long int`|8|无符号长整数|`0` 到 `18446744073709551615`|
|`float`|4|单精度浮点数|`1.2E-38` 到 `3.4E38`,七位精度|
|`double`|8|双精度浮点数|`2.2E-308` 到 `1.8E308`，十五位精度|
|`char`|1|字符|`-128` 到 `127`，可以表示 ASCII 字符|
|`bool`|1|布尔值|`true` 或 `false`|

#### 1.2.2 输入

在 C++ 中，我们可以使用 `scanf` 函数来输入数据。`scanf` 函数的语法如下：

```cpp
scanf(格式字符串, 地址1, 地址2, ...);
```

1. 格式字符串：是一个 C 字符串，用来指定输入的格式。
2. 地址：是一个指针，用来存储输入的数据。

在本例中，我们使用 `scanf` 函数输入两个整数 `a` 和 `b`。格式字符串 `"%d%d"` 表示我们期望从标准输入流中读取两个整数。`&a` 和 `&b` 是地址，用来存储 `a` 和 `b` 的值。

C++里的常用类型格式化符号如下：

|类型|格式化符号|
|:--|:--|
|`int`|%d|
|`unsigned int`|%u|
|`long long int`|%lld|
|`unsigned long long int`|%llu|
|`float`|%f|
|`double`|%lf|
|`char`|%c|
|`bool`|%d|

浮点数可以用格式化符号来表示想要小数点后几位，如 `%.6lf` 表示小数点后六位。虽然输入不会用到，但是有时输出会用。

#### 1.2.3 输出

在 C++ 中，我们可以使用 `printf` 函数来输出数据。`printf` 函数的语法如下：

```cpp
printf(格式字符串, 参数1, 参数2, ...);
```

1. 格式字符串：是一个 C 字符串，用来指定输出的格式。
2. 参数：是要输出的值。

在本例中，我们使用 `printf` 函数输出 `a+b` 的结果。格式字符串 `"%d\n"` 表示我们希望输出一个整数，并在末尾加上换行符。
C++里的输入输出格式化符号都一样。注意输出就不用`&`了。

#### 1.2.4 小结

`A+B` 问题是 C++ 学习中的第二个里程碑，它介绍了以下几个概念：

- 如何定义变量。
- 如何输入数据。
- 如何输出数据。

### 1.3 C++ 运算

C++ 运算符包括：

- 算术运算符：`+`、`-`、`*`、`/`、`%` （`%`指除法的余数）
- 关系运算符：`==`、`!=`、`>`、`<`、`>=`、`<=`、`!`
- 逻辑运算符：`&&`、`||`、`!`
- 赋值运算符：`=`、`+=`、`-=`、`*=`、`/=`、`%=`
- 位运算符：`&`、`|`、`^`、`~`、`<<`、`>>`（不太会用到）
- 其他运算符：`sizeof`、`++`、`--`、`()`、`[]`、`->`（不用关心）

C++ 里的运算都是先乘除，后加减。如果要改变运算顺序，可以用括号。
注意：为了避免麻烦，如果嵌套不同类型的运算符，要用括号括起来。

### 1.3.2 自加自减运算符

C++ 里有两种自增自减运算符：

- `++`：自增运算符，先加 1，再运算。
- `--`：自减运算符，先减 1，再运算。

例如：

### 1.4 注释

注释是一种让代码更易读、更易懂的有效方式。在 C++ 中，我们可以使用 `//` 或 `/* */` 来添加注释。

1. `//` 后面可以跟随任意内容，直到行尾。
2. `/* */` 用来包裹多行注释，可以嵌套。

```cpp
printf("Hello World!\n") // Hello World! 这是单行注释
/*
这是多行注释
*/
```

### 作业

登录洛谷账号，并完成以下任务：

1. （必做）P1001 A+B问题
2. （选做）入门与面试题单 B2000到B2019
3. （必做）把$A+B$问题的答案改成$A-B$，$A \times B$，$A \div B$，$A \mod B$的答案。有什么意想不到的地方吗，怎么修正？（提示：注意$A \div B$没整除的时候）

注意：
乘号和除号在键盘上没有，可以用星号`*`和斜线`/`代替。

## 第2章 分支结构，循环结构和函数

### 2.1 分支结构

分支结构是程序的基本结构之一，它允许程序根据条件的不同执行不同的代码。C++ 提供了 `if`、`else`、`switch` 等语句来实现分支结构。

#### 2.1.1 `if` 语句

`if` 语句是最基本的分支结构。它的语法如下：

```cpp
if (条件表达式) {
    // 条件为真时执行的代码
}
```

`if` 语句的执行过程如下：

1. 计算条件表达式的值。
2. 如果条件表达式的值为真（非零），则执行 `if` 块中的代码。
3. 如果条件表达式的值为假（零），则忽略 `if` 块中的代码。

#### 2.1.2 `else` 语句

`else` 语句是 `if` 语句的补充。它的语法如下：

```cpp
if (条件表达式) {
    // 条件为真时执行的代码
} else {
    // 条件为假时执行的代码
}
```

1. 如果条件表达式的值为真（非零），则执行 `if` 块中的代码。
2. 如果条件表达式的值为假（零），则执行 `else` 块中的代码。

#### 2.1.3 `if` `else if` `else` 语句

`if` `else if` `else` 语句是 `if` 语句的扩展。它的语法如下：

```cpp
if (条件表达式1) {
    // 条件1为真时执行的代码
} else if (条件表达式2) {
    // 条件2为真时执行的代码
} else {
    // 所有条件都不满足时执行的代码
}
```

1. 如果条件表达式1的值为真（非零），则执行 `if` 块中的代码。
2. 如果条件表达式1的值为假（零），则判断条件表达式2的值。
3. 如果条件表达式2的值为真（非零），则执行 `else if` 块中的代码。
4. 如果条件表达式2的值也为假（零），则执行 `else` 块中的代码。

#### 2.1.4 `switch` 语句

`switch` 语句是 C++ 中的多分支结构。它的语法如下：

```cpp
switch (表达式) {
    case 值1:
        // 值1时执行的代码
        break;
    case 值2:
        // 值2时执行的代码
        break;
   ...
    default:
        // 所有情况都不满足时执行的代码
        break;
}
```

1. 计算表达式的值。
2. 与每个 `case` 语句的 `值` 进行比较。
3. 如果找到匹配的 `case` 语句，则执行该 `case` 块中的代码。
4. 如果没有找到匹配的 `case` 语句，则执行 `default` 块中的代码。

#### 2.1.5 实际运用

例如：输入一个数，判断它是大于零，还是小于零，还是等于零。可以用 `if` `else if` `else` 语句实现：

```cpp
#include <cstdio>
using namespace std;
int main() {
    int a;
    scanf("%d", &a);
    if (a > 0) {
        printf("%d > 0\n", a);
    } else if (a < 0) {
        printf("%d < 0\n", a);
    } else {
        printf("%d = 0\n", a);
    }
    return 0;
}
```

### 2.2 循环结构

循环结构是程序的基本结构之一，它允许程序重复执行代码。C++ 提供了 `while`、`do while`、`for` 等语句来实现循环结构。

#### 2.2.1 `while` 语句

`while` 语句是最基本的循环结构。它的语法如下：

```cpp
while (条件表达式) {
    // 循环体
}
```

`while` 语句的执行过程如下：

1. 计算条件表达式的值。
2. 如果条件表达式的值为真（非零），则执行 `while` 块中的代码，并回到步骤 1。
3. 如果条件表达式的值为假（零），则忽略 `while` 块中的代码。

#### 2.2.2 `do while` 语句

`do while` 语句是 `while` 语句的变体。它的语法如下：

```cpp
do {
    // 循环体
} while (条件表达式);
```

1. 执行 `do` 块中的代码。
2. 计算条件表达式的值。
3. 如果条件表达式的值为真（非零），则回到步骤 1。
4. 如果条件表达式的值为假（零），则忽略 `do` 块中的代码。

#### 2.2.3 `for` 语句

`for` 语句是 `while` 语句的变体。它的语法如下：

```cpp
for (初始化表达式; 条件表达式; 迭代表达式) {
    // 循环体
}
```

1. 执行初始化表达式。
2. 计算条件表达式的值。
3. 如果条件表达式的值为真（非零），则执行 `for` 块中的代码，并回到步骤 4。
4. 执行迭代表达式。
5. 回到步骤 2。

#### 2.2.4 实际运用

例如：求 1 到 100 的和。可以用 `while` 语句实现：

```cpp
#include <cstdio>
using namespace std;
int main() {
    int sum = 0, i = 1;
    while (i <= 100) {
        sum += i;
        i += 1
### 2.3 函数

函数是 C++ 程序的基本组成部分。函数可以封装代码，提高代码的可重用性和可读性。
C++ 里的函数是以下格式：

```cpp
返回类型 函数名(参数表) {
    // 函数体
}
```

- 返回类型：函数返回的值的类型。注意：返回值有一种特殊的类型：`void`，表示函数没有返回值。如果函数的返回类型
- 函数名：函数的名称。
- 参数表：函数的参数列表。
- 函数体：函数执行的语句。

函数的返回值是会用`return 返回值;`来返回。函数一返回，函数的调用就结束了。

函数可以没有参数。

```cpp
返回类型 函数名() {
    // 函数体
}
```

#### 2.3.1 调用函数

函数调用是 C++ 程序的基本操作。调用函数的语法如下：

```cpp
函数名(参数1, 参数2, ...);
```

- 函数名：要调用的函数的名称。
- 参数：是传递给函数的值。

#### 2.3.2 主函数（main）

有没有发现，每 C++ 程序里都有一个 `main` 函数？`main` 函数是程序的入口，它是所有程序的起点。
如果没有`main`函数，程序将无法编译，并输出一段奇怪的错误信息。
`main`函数大多数时候不需要参数，它返回一个整型值，表示程序的执行状态。

#### 2.3.3 实际运用

